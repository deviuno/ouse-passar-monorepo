
Vamos reestruturar o fluxo de criação de preparatório. A IA não está conseguindo fazer um trabalho da forma como a gente faz. Então vamos fazer algo híbrido: parte automático com IA e parte manual. O processo será o mesmo até a etapa em que o usuário pode reordenar as rodadas. 

Após reordenar as rodadas, o próximo botão será Montar Missões. 

E então o usuário será direcionado para uma página. Talvez seja interessante fazer todo o fluxo em página e não em pop-up, pois a partir de agora o usuário precisará de mais espaço, e uma pop-up poderia limitar a visibilidade das informações. 

Vamos focar basicamente nas missões de conteúdo. Toda missão de conteúdo será relacionada a uma matéria.

E dentro da missão, colocaremos os tópicos relacionados àquela matéria. 

Então, para a interface de montagem das missões, eu pensei em ter na tela cards de cada uma das matérias, ordenadas de acordo com o que o usuário ordenou anteriormente, da primeira para a última, Mas não em formato de lista. E sim em cards contendo 2 cards por linha. Isso na coluna da direita. 

Esses cards terão a informação de quantas missões tem em cada um deles.
- A informação da matéria
- Depois, quantas missões tem dentro deles.
Um botão com o ícone de olho discreto e um botão com ícone de mais, adicionar esse com mais destaque. É lógico, quando não tiver nenhuma informação, esse caso estará em branco apenas com O botão "Add".  

Haverá uma coluna da direita que, por enquanto, só terá a informação: "selecione uma matéria ao lado". 

Após selecionar um card ou clicar no botão "Adicionar" nesta coluna da direita, aparecerão todas as matérias que foram identificadas pelo edital, e a instrução na parte de cima: "Selecione a matéria desta missão". Esse card da matéria deve ser bem simplificado. Porém, deve informar a quantidade de assuntos ainda não designados que há dentro dessa matéria. 

Quando o usuário seleciona o título desta matéria, vai pra parte de cima, e abaixo aparecem todos os tópicos desta matéria de uma forma que a pessoa possa selecionar ou até mesmo clicando e arrastando para selecionar mais de um.

Se ela clicar novamente em um que já está selecionado, irá desselecionar.

Abaixo terá o botão "Adicionar 2 assuntos" (no caso, esse número dois seria a quantidade de itens selecionados). 

Nesta tela, só irão exibir assuntos que ainda não foram designados a nenhuma tarefa. Ou seja, na próxima tarefa, ao selecionar a mesma matéria, esses dois que já foram designados no passo anterior não devem mais aparecer. Com isso, ficará mais fácil preencher, sabendo exatamente quais assuntos ainda não foram designados. 

Quando finalizar todos os assuntos de uma matéria, a matéria não aparecerá mais para a seleção. 

Após clicar no botão para adicionar os assuntos, aquela missão que estava sendo criada vai ser salva e vai aparecer agora dentro do card selecionado. Vai aparecer que temos uma missão. 


A exceção será as missões de revisão. Uma missão de revisão será composta pelas missões anteriores, pois estaremos falando quais as missões que precisarão ser revisadas. 

A missão técnica será apenas uma missão com texto. Aplicar as técnicas Ouse Passar. Essa é uma missão que só aparece no planejador. Deve ter apenas uma por rodada. 

Por fim, a última missão de cada rodada será o simulado, que será uma prova nos moldes do estilo simulado que já temos cadastrados no sistema, com todos os assuntos abordados na rodada atual. Deve ter apenas uma por rodada. 

Esse processo deve se repetir em cada uma das rodadas. 

O processo de rodadas também será manual. É o usuário quem definirá a quantidade de rodadas. Ele pode ir adicionando novas rodadas até o momento em que ele achar que é suficiente.

Lembrando que é necessário fazer as devidas adaptações tanto no SUPABase quanto nos agentes do Mastra.  

Vou te dar a liberdade para planejar como executar isso e como fazer da melhor maneira possível. Confio muito no seu trabalho. Você é incrível. Vá lá e me surpreenda! 

Lembrando que toda rodada terá dez missões. E as três últimas missões serão obrigatoriamente:
1. Revisão
2. Missão técnica
3. Simulado

Pode até haver mais do que 10 missões; porém, essas missões adicionais devem ser apenas do tipo revisão. O sistema deve permitir que o usuário acrescente novas revisões. Essas revisões ficarão com o título "Missão 9 Revisão Parte 1", depois "Missão 9 Revisão Parte 2", e assim por diante. 